<!DOCTYPE html>
<head>
  <!-- head info from view -->
  <title>Another Test View</title>
  <meta charset="UTF-8">
  <meta name="description" content="A blog powered by Scriptorium. This is default text intended to be changed by the user.">
  <meta name="viewport" content="width=device-width initial-scale=1.0">
  <meta name="robots" content="index, follow">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"></link>
<meta property="og:title" content="Another Test View">
<meta property="og:type" content="website">
<meta property="og:url" content="index.html">
<meta property="og:description" content="A blog powered by Scriptorium. This is default text intended to be changed by the user.">
<meta property="og:site_name" content="Another Test View">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Another Test View">
<meta name="twitter:description" content="A blog powered by Scriptorium. This is default text intended to be changed by the user.">
<meta name="twitter:url" content="index.html">
</head>
<html style="height: 100%; margin: 0;">
  <body style="height: 100%; margin: 0; display: flex; flex-direction: column;">
    <header id="header" class="header" style="padding: 10px;">
      <!-- Section: header (output) -->
      <h1>Another Test View</h1>
    </header>
    <!-- before left/main/right -->
    <div style='display: flex; flex-grow: 1; height: 100%; flex-direction: row;'>
      <aside class="left" style="width: 15%; background: #f0f0f0; padding: 10px; flex-grow: 0; flex-shrink: 0;">
        <!-- Section: left (output) -->
        <p>This is left...</p>
      </aside>
      <!-- Section: main (output) -->
      <div id="main" class="main" style="flex-grow: 1; padding: 10px; overflow-y: auto; position: relative; display: flex; flex-direction: column;"><style>
          body { font-family: verdana }

          .recent-title a {
            color: #010101;
            font-family: verdana;
            font-size: 28px;
            float: right;
            display: inline-block;
            text-align: top;
            text-decoration: none;
          }

          .recent-title a:hover {
            text-decoration: none;
          }

          .recent-title-text a {
            color: #0101a1;
            font-family: verdana;
            font-size: 22px;
            display: block;
            text-decoration: none;
          }

          .recent-title-text a:hover {
            text-decoration: none;
          }

          .recent-date {
            color: #9a9a9a;
            font-family: verdana;
            font-size: 15px;
            display: block;
            float: left;
            text-align: top;
          }

          .mydrop {
            color: #444444;
            float: left;
            text-align: top;
          # font-family: Verdana;
            font-size: 38px;
            line-height: 38px;
          # padding-top: 0px;
            padding-right: 8px;
            padding-left: 3px;
          }

          .thumbnail img {
              max-height: 100%;
              max-width: 100%;
          }
        </style>
        <div class="index-entry" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
          <!-- Left Side: Date (right aligned) -->
          <div style="text-align: right; font-size: 0.7em; flex-basis: 10%; padding-top: 3px;">
            <div>August 03</div>
            <div>2025</div>
          </div>
          <!-- Right Side: Title and Blurb (left aligned) -->
          <div style="font-size: 1.2em; margin-left: 10px; flex-grow: 1; padding-top: 0;">
            <div><a href="javascript:void(0)" 
            style="text-decoration: none;"
            onclick="load_main('posts/0033-post-32-tilan-mamas-lanmac-massanril-mor.html')">Post 32 tilan mamas lanmac massanril mor</a></div>
            <div style="font-size: 0.9em;">ADD BLURB HERE</div>
          </div>
        </div>
        <div class="index-entry" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
          <!-- Left Side: Date (right aligned) -->
          <div style="text-align: right; font-size: 0.7em; flex-basis: 10%; padding-top: 3px;">
            <div>August 03</div>
            <div>2025</div>
          </div>
          <!-- Right Side: Title and Blurb (left aligned) -->
          <div style="font-size: 1.2em; margin-left: 10px; flex-grow: 1; padding-top: 0;">
            <div><a href="javascript:void(0)" 
            style="text-decoration: none;"
            onclick="load_main('posts/0031-post-30-mormorsil-konte-tre-mac-silkonti.html')">Post 30 mormorsil konte tre mac silkonti</a></div>
            <div style="font-size: 0.9em;">ADD BLURB HERE</div>
          </div>
        </div>
        <div class="index-entry" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
          <!-- Left Side: Date (right aligned) -->
          <div style="text-align: right; font-size: 0.7em; flex-basis: 10%; padding-top: 3px;">
            <div>August 03</div>
            <div>2025</div>
          </div>
          <!-- Right Side: Title and Blurb (left aligned) -->
          <div style="font-size: 1.2em; margin-left: 10px; flex-grow: 1; padding-top: 0;">
            <div><a href="javascript:void(0)" 
            style="text-decoration: none;"
            onclick="load_main('posts/0032-post-31-tre-telkon-detos-retretem-veldo.html')">Post 31 tre telkon detos retretem veldo</a></div>
            <div style="font-size: 0.9em;">ADD BLURB HERE</div>
          </div>
        </div>
        <div class="index-entry" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
          <!-- Left Side: Date (right aligned) -->
          <div style="text-align: right; font-size: 0.7em; flex-basis: 10%; padding-top: 3px;">
            <div>August 03</div>
            <div>2025</div>
          </div>
          <!-- Right Side: Title and Blurb (left aligned) -->
          <div style="font-size: 1.2em; margin-left: 10px; flex-grow: 1; padding-top: 0;">
            <div><a href="javascript:void(0)" 
            style="text-decoration: none;"
            onclick="load_main('posts/0035-post-34-rilrete-mor-temtrenim-telnim-morte.html')">Post 34 rilrete mor temtrenim telnim morte</a></div>
            <div style="font-size: 0.9em;">ADD BLURB HERE</div>
          </div>
        </div>
        <div class="index-entry" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
          <!-- Left Side: Date (right aligned) -->
          <div style="text-align: right; font-size: 0.7em; flex-basis: 10%; padding-top: 3px;">
            <div>August 03</div>
            <div>2025</div>
          </div>
          <!-- Right Side: Title and Blurb (left aligned) -->
          <div style="font-size: 1.2em; margin-left: 10px; flex-grow: 1; padding-top: 0;">
            <div><a href="javascript:void(0)" 
            style="text-decoration: none;"
            onclick="load_main('posts/0034-post-33-sandel-velcro-lanmac-ko-sanril.html')">Post 33 sandel velcro lanmac ko sanril</a></div>
            <div style="font-size: 0.9em;">ADD BLURB HERE</div>
          </div>
        </div>
        <div class="index-entry" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
          <!-- Left Side: Date (right aligned) -->
          <div style="text-align: right; font-size: 0.7em; flex-basis: 10%; padding-top: 3px;">
            <div>August 03</div>
            <div>2025</div>
          </div>
          <!-- Right Side: Title and Blurb (left aligned) -->
          <div style="font-size: 1.2em; margin-left: 10px; flex-grow: 1; padding-top: 0;">
            <div><a href="javascript:void(0)" 
            style="text-decoration: none;"
            onclick="load_main('posts/0025-post-24-silodo-ran-rildelmac-tes-rankon.html')">Post 24 silodo ran rildelmac tes rankon</a></div>
            <div style="font-size: 0.9em;">ADD BLURB HERE</div>
          </div>
        </div>
        <div class="index-entry" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
          <!-- Left Side: Date (right aligned) -->
          <div style="text-align: right; font-size: 0.7em; flex-basis: 10%; padding-top: 3px;">
            <div>August 03</div>
            <div>2025</div>
          </div>
          <!-- Right Side: Title and Blurb (left aligned) -->
          <div style="font-size: 1.2em; margin-left: 10px; flex-grow: 1; padding-top: 0;">
            <div><a href="javascript:void(0)" 
            style="text-decoration: none;"
            onclick="load_main('posts/0020-post-19-murema-koran-ma-doran-titos.html')">Post 19 murema koran ma doran titos</a></div>
            <div style="font-size: 0.9em;">ADD BLURB HERE</div>
          </div>
        </div>
        <div class="index-entry" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
          <!-- Left Side: Date (right aligned) -->
          <div style="text-align: right; font-size: 0.7em; flex-basis: 10%; padding-top: 3px;">
            <div>August 03</div>
            <div>2025</div>
          </div>
          <!-- Right Side: Title and Blurb (left aligned) -->
          <div style="font-size: 1.2em; margin-left: 10px; flex-grow: 1; padding-top: 0;">
            <div><a href="javascript:void(0)" 
            style="text-decoration: none;"
            onclick="load_main('posts/0027-post-26-tede-randelmu-tos-saranmas-sil.html')">Post 26 tede randelmu tos saranmas sil</a></div>
            <div style="font-size: 0.9em;">ADD BLURB HERE</div>
          </div>
        </div>
        <div class="index-entry" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
          <!-- Left Side: Date (right aligned) -->
          <div style="text-align: right; font-size: 0.7em; flex-basis: 10%; padding-top: 3px;">
            <div>August 03</div>
            <div>2025</div>
          </div>
          <!-- Right Side: Title and Blurb (left aligned) -->
          <div style="font-size: 1.2em; margin-left: 10px; flex-grow: 1; padding-top: 0;">
            <div><a href="javascript:void(0)" 
            style="text-decoration: none;"
            onclick="load_main('posts/0029-post-28-mor-remorko-lan-maslesan-delsan.html')">Post 28 mor remorko lan maslesan delsan</a></div>
            <div style="font-size: 0.9em;">ADD BLURB HERE</div>
          </div>
        </div>
        <div class="index-entry" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
          <!-- Left Side: Date (right aligned) -->
          <div style="text-align: right; font-size: 0.7em; flex-basis: 10%; padding-top: 3px;">
            <div>August 03</div>
            <div>2025</div>
          </div>
          <!-- Right Side: Title and Blurb (left aligned) -->
          <div style="font-size: 1.2em; margin-left: 10px; flex-grow: 1; padding-top: 0;">
            <div><a href="javascript:void(0)" 
            style="text-decoration: none;"
            onclick="load_main('posts/0028-post-27-telmu-demac-landelsil-odokon-letreril.html')">Post 27 telmu demac landelsil odokon letreril</a></div>
            <div style="font-size: 0.9em;">ADD BLURB HERE</div>
          </div>
        </div>
        <div style="position: absolute; bottom: 0; width: 100%;">
          <div style="align-self: flex-end;">Pages: <b>[1]</b>&nbsp;&nbsp;<a href="javascript:void(0)" style="text-decoration: none;"
                  onclick="load_main('page2.html')">2&nbsp;&nbsp;</a><a href="javascript:void(0)" style="text-decoration: none;"
                  onclick="load_main('page3.html')">3&nbsp;&nbsp;</a><a href="javascript:void(0)" style="text-decoration: none;"
                  onclick="load_main('page4.html')">4&nbsp;&nbsp;</a><br>
            <br>
          </div>
        </div>
      </div>
 <!-- end main -->
      <aside class="right" style="width: 15%; background: #f0f0f0; padding: 10px; flex-grow: 0; flex-shrink: 0;">
        <!-- Section: right (output) -->
        <p>This is right...</p>
      </aside>
    </div>
 <!-- after left/main/right --></div>
  <footer class="footer" style="background: lightgray; padding: 10px;">
    <!-- Section: footer (output) -->
    <p>This is footer...</p>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Handle the back button (or JavaScript history.go(-1))
    window.onpopstate = function(event) {
      console.log('onpopstate event:', event); // Log the event object
      if (event.state && event.state.slug) {
        console.log('Navigating to slug:', event.state.slug); // Log the slug
        load_main(event.state.slug);  // Load the post for the previous history state
      }
    };

    // Initialize with the front page when navigating via the back button or similar
    window.onload = function() {
      // Check if the initial state exists, if not, set it
      if (!history.state) {
         // Don't try to load post_index.html if there are no posts
         // The "No posts yet!" message is already in the main container
         history.replaceState({ slug: "index.html" }, "", "index.html");
      }
    };

    // Load the main content and other page containers (header, footer, left, right)
    function load_main(slug) {
      // Get all container elements (header, footer, left, right, and main)
      const contentDiv = document.getElementById("main");
      const headerDiv = document.querySelector("header");
      const footerDiv = document.querySelector("footer");
      const leftDiv = document.querySelector(".left");
      const rightDiv = document.querySelector(".right");
      console.log('Loading main with slug:', slug); // Log the slug

    fetch(slug)
      .then(response => {
          if (response.ok) {
              console.log('Response is ok');
              return response.text();
          } else {
              console.error('Failed to load:', response.status); // Log the failed response
          }
      })
      .then(content => {
          console.log('Loaded content into div'); // Log successful content insertion

          // Now, reload the content into the respective containers:
          // Main section
          contentDiv.innerHTML = content;

          // Re-insert header, footer, left, and right (if necessary)
          // If you want the static layout to be kept, you can preserve these parts
          // with additional logic or predefined structure (here it's assumed
          // that header/footer/left/right are already statically included).

          // You can also replace the other parts (left, right, header, footer) if needed.
          history.pushState({slug: slug}, "", slug);  // Update browser history
      })
      .catch(error => {
          console.log("Error loading content:", error); // Log any errors during fetch
      });
    }
  </script>
</body>
</html>
